<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Introduction to hisafer</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Introduction to hisafer</h1>



<p>hisafer is an R toolbox for the Hi-sAFe biophysical agroforestry model. It provides functions for defining, building, running, reading, analyzing, and plotting Hi-sAFe simulaitons. The first step to using hisafer is to load the library:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(hisafer)</code></pre></div>
<p><em>hisafer utilizes the tidyverse approach to R programming and data manipulation. While most consequneces of this approach are behind the scenes, one obvious example to users is that outputs from most hisafer fucntions are tibbles rather than simple data frames. This has little practical impact on your use of hisafer, but should improve your overall experience.</em></p>
<div id="six-steps-to-hi-safe-experimentation" class="section level2">
<h2>Six Steps to Hi-sAFe Experimentation</h2>
<p>hisafer tools are organized via the six main steps of experimentation with Hi-sAFe: Define, Build, Run, Read, Diagnostics, Analysis. While hisafer can be used to interact with Hi-sAFe at any of these steps independently, enhanced functionality is available when using hisafer to interact with Hi-sAFe from the beginning.</p>
<div id="define" class="section level3">
<h3>1. Define</h3>
<p>Define functions allow you to define one or more Hi-sAFe “simulations”. Simulations are definied by specifying one or more Hi-SAFe input parameters from the .sim, .pld, or .tree files. Any Hi-SAFe input parameters not specified will simply inherit the parameters used during Hi-sAFe’s calibration. To see which Hi-SAFe input parameters are currently supported, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hisafe_params</span>()</code></pre></div>
<pre><code>## budBurstAccumulatedTemp
## budBurstTempAccumulationDateStart
## cellWidth
## coarseRootAnoxiaResistance
## colonisationThreshold
## interCropItk
## interCropSpecies
## latitude
## lueMax
## mainCropItk
## mainCropSpecies
## nbSimulations
## rootAnoxiaHalfLife
## rootHalfLife
## rootShape
## simulationDayStart
## SimulationName
## simulationNbrDays
## simulationYearStart
## slopeAspect
## slopeIntensity
## spacingBetweenRows
## spacingWithinRows
## toricSymmetry
## treeCropDistance
## treeHeight
## treeLineOrientation
## treePruningFreq
## treePruningMaxHeight
## treePruningProp
## treeRootPruningDepth
## treeRootPruningDistance
## treeRootPruningFreq
## treeSpecies
## waterTable
## weatherFile
## weededAreaRadius
## windMeanForce</code></pre>
<p>By default, <code>hisafe_params()</code> just provides the names of supported parameters. To also see the default values, range of allowed values, and range of suggested values, use:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hisafe_params</span>(<span class="st">&quot;all&quot;</span>)</code></pre></div>
<p>Once you know which parameter(s) you want to customize, you can define a Hi-sAFe simulation or experiment using <code>define_hisafe()</code>. Let’s start with just a simple Hi-sAFe simulation in which we only want to customize <strong>latitude</strong> and <strong>treeLineOrientation</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hip_sim &lt;-<span class="st"> </span><span class="kw">define_hisafe</span>(<span class="dt">latitude =</span> <span class="dv">60</span>, <span class="dt">treeLineOrientation =</span> -<span class="dv">180</span>)</code></pre></div>
<pre><code>## Error: Hi-sAFe definition errors:
## -- treeLineOrientation - must be betwen 0 and 359</code></pre>
<p>Oops! It looks like <strong>treeLineOrientation</strong> must be between 0 and 359. Let’s double check the details on this parameter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hisafe_params</span>(<span class="st">&quot;treeLineOrientation&quot;</span>)</code></pre></div>
<pre><code>## 
## treeLineOrientation
##  default:90
##  allowed:NA
##  min    :0
##  max    :359
##  min.sug:NA
##  max.sug:NA</code></pre>
<p>Okay, let’s try again using a new value for <strong>treeLineOrientation</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hip_sim &lt;-<span class="st"> </span><span class="kw">define_hisafe</span>(<span class="dt">latitude =</span> <span class="dv">60</span>, <span class="dt">treeLineOrientation =</span> <span class="dv">90</span>)
hip_sim</code></pre></div>
<pre><code>## # A tibble: 1 x 38
##   SimulationName latitude treeLineOrientation cellWidth spacingBetweenRows
##            &lt;chr&gt;    &lt;dbl&gt;               &lt;dbl&gt;     &lt;dbl&gt;              &lt;dbl&gt;
## 1          Sim_1       60                  90         1                 13
## # ... with 33 more variables: spacingWithinRows &lt;dbl&gt;,
## #   slopeIntensity &lt;dbl&gt;, slopeAspect &lt;dbl&gt;, windMeanForce &lt;dbl&gt;,
## #   waterTable &lt;chr&gt;, treeSpecies &lt;chr&gt;, treeHeight &lt;dbl&gt;,
## #   rootShape &lt;dbl&gt;, nbSimulations &lt;dbl&gt;, simulationYearStart &lt;dbl&gt;,
## #   simulationDayStart &lt;dbl&gt;, simulationNbrDays &lt;dbl&gt;,
## #   mainCropSpecies &lt;chr&gt;, interCropSpecies &lt;chr&gt;, mainCropItk &lt;chr&gt;,
## #   interCropItk &lt;chr&gt;, treeCropDistance &lt;dbl&gt;, weededAreaRadius &lt;dbl&gt;,
## #   weatherFile &lt;chr&gt;, toricSymmetry &lt;chr&gt;, treePruningFreq &lt;dbl&gt;,
## #   treePruningProp &lt;dbl&gt;, treePruningMaxHeight &lt;dbl&gt;,
## #   treeRootPruningFreq &lt;dbl&gt;, treeRootPruningDistance &lt;dbl&gt;,
## #   treeRootPruningDepth &lt;dbl&gt;, budBurstTempAccumulationDateStart &lt;dbl&gt;,
## #   budBurstAccumulatedTemp &lt;dbl&gt;, lueMax &lt;dbl&gt;,
## #   coarseRootAnoxiaResistance &lt;dbl&gt;, rootHalfLife &lt;dbl&gt;,
## #   rootAnoxiaHalfLife &lt;dbl&gt;, colonisationThreshold &lt;dbl&gt;</code></pre>
<p>We can now see a defined Hi-sAFe simulation, which is contained within a <code>hip</code> object (for “Hi-sAFe Input Parmaeters”). Each row of a <code>hip</code> object describes a single Hi-sAFe simulation, and each column provides the value of a Hi-sAFe input parameter. For convenience, any customized parmaeters appear first in the object, which the remaining, default parameters in columns to the right. If not provided manually, a default <strong>SimulationName</strong> is provided for each simulation within the <code>hip</code> object.</p>
<p>Let’s try something more complicated now. Most Hi-sAFe simulations are run in groups that vary one or more parameters over a range of values. A group of multiple, related simulations is called an “experiment”. We can also use <code>define_hisafe()</code> to define an experiment by simply providing multiple values for one or more parameters. There are two methods for defining an experiment, depending on if the <code>define_hisafe()</code> agrument <code>factorial</code> is <code>TRUE</code> or <code>FALSE</code>.</p>
<p>If <code>factorial</code> is <code>FALSE</code>, the default, then values are recycled (i.e. such as for default behavior of <code>data.frame()</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hip_exp_F &lt;-<span class="st"> </span><span class="kw">define_hisafe</span>(<span class="dt">factorial =</span> <span class="ot">FALSE</span>, 
                           <span class="dt">latitude =</span> <span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">60</span>),
                           <span class="dt">treeLineOrientation =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">90</span>))
hip_exp_F</code></pre></div>
<pre><code>## # A tibble: 2 x 38
##   SimulationName latitude treeLineOrientation cellWidth spacingBetweenRows
##            &lt;chr&gt;    &lt;dbl&gt;               &lt;dbl&gt;     &lt;dbl&gt;              &lt;dbl&gt;
## 1          Sim_1       30                   0         1                 13
## 2          Sim_2       60                  90         1                 13
## # ... with 33 more variables: spacingWithinRows &lt;dbl&gt;,
## #   slopeIntensity &lt;dbl&gt;, slopeAspect &lt;dbl&gt;, windMeanForce &lt;dbl&gt;,
## #   waterTable &lt;chr&gt;, treeSpecies &lt;chr&gt;, treeHeight &lt;dbl&gt;,
## #   rootShape &lt;dbl&gt;, nbSimulations &lt;dbl&gt;, simulationYearStart &lt;dbl&gt;,
## #   simulationDayStart &lt;dbl&gt;, simulationNbrDays &lt;dbl&gt;,
## #   mainCropSpecies &lt;chr&gt;, interCropSpecies &lt;chr&gt;, mainCropItk &lt;chr&gt;,
## #   interCropItk &lt;chr&gt;, treeCropDistance &lt;dbl&gt;, weededAreaRadius &lt;dbl&gt;,
## #   weatherFile &lt;chr&gt;, toricSymmetry &lt;chr&gt;, treePruningFreq &lt;dbl&gt;,
## #   treePruningProp &lt;dbl&gt;, treePruningMaxHeight &lt;dbl&gt;,
## #   treeRootPruningFreq &lt;dbl&gt;, treeRootPruningDistance &lt;dbl&gt;,
## #   treeRootPruningDepth &lt;dbl&gt;, budBurstTempAccumulationDateStart &lt;dbl&gt;,
## #   budBurstAccumulatedTemp &lt;dbl&gt;, lueMax &lt;dbl&gt;,
## #   coarseRootAnoxiaResistance &lt;dbl&gt;, rootHalfLife &lt;dbl&gt;,
## #   rootAnoxiaHalfLife &lt;dbl&gt;, colonisationThreshold &lt;dbl&gt;</code></pre>
<p>In this case, you can see that there are two simulations in the resulting <code>hip</code>, one with <strong>latitude</strong>=30 and <strong>treeLineOrientation</strong>=0, and the other with <strong>latitude</strong>=60 and <strong>treeLineOrientation</strong>=90.</p>
<p>If <code>factorial</code> is <code>TRUE</code>, then a factorial experiment is created, in which a simulation is defined for each possible combination of supplied values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hip_exp &lt;-<span class="st"> </span><span class="kw">define_hisafe</span>(<span class="dt">factorial =</span> <span class="ot">TRUE</span>, 
                           <span class="dt">latitude =</span> <span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">60</span>),
                           <span class="dt">treeLineOrientation =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">90</span>))
hip_exp</code></pre></div>
<pre><code>## # A tibble: 4 x 38
##   SimulationName latitude treeLineOrientation cellWidth spacingBetweenRows
##            &lt;chr&gt;    &lt;dbl&gt;               &lt;dbl&gt;     &lt;dbl&gt;              &lt;dbl&gt;
## 1          Sim_1       30                   0         1                 13
## 2          Sim_2       60                   0         1                 13
## 3          Sim_3       30                  90         1                 13
## 4          Sim_4       60                  90         1                 13
## # ... with 33 more variables: spacingWithinRows &lt;dbl&gt;,
## #   slopeIntensity &lt;dbl&gt;, slopeAspect &lt;dbl&gt;, windMeanForce &lt;dbl&gt;,
## #   waterTable &lt;chr&gt;, treeSpecies &lt;chr&gt;, treeHeight &lt;dbl&gt;,
## #   rootShape &lt;dbl&gt;, nbSimulations &lt;dbl&gt;, simulationYearStart &lt;dbl&gt;,
## #   simulationDayStart &lt;dbl&gt;, simulationNbrDays &lt;dbl&gt;,
## #   mainCropSpecies &lt;chr&gt;, interCropSpecies &lt;chr&gt;, mainCropItk &lt;chr&gt;,
## #   interCropItk &lt;chr&gt;, treeCropDistance &lt;dbl&gt;, weededAreaRadius &lt;dbl&gt;,
## #   weatherFile &lt;chr&gt;, toricSymmetry &lt;chr&gt;, treePruningFreq &lt;dbl&gt;,
## #   treePruningProp &lt;dbl&gt;, treePruningMaxHeight &lt;dbl&gt;,
## #   treeRootPruningFreq &lt;dbl&gt;, treeRootPruningDistance &lt;dbl&gt;,
## #   treeRootPruningDepth &lt;dbl&gt;, budBurstTempAccumulationDateStart &lt;dbl&gt;,
## #   budBurstAccumulatedTemp &lt;dbl&gt;, lueMax &lt;dbl&gt;,
## #   coarseRootAnoxiaResistance &lt;dbl&gt;, rootHalfLife &lt;dbl&gt;,
## #   rootAnoxiaHalfLife &lt;dbl&gt;, colonisationThreshold &lt;dbl&gt;</code></pre>
<p>In this case, you can see that there are four simulations in the resulting <code>hip</code>, one for each possible combination of the supplied values of <strong>latitude</strong> and <strong>treeLineOrientation</strong>. We’ll use this <code>hip</code> object for moving on to the BUILD step.</p>
<p>You can also use <code>define_hisafe_file()</code> to directly read a <code>hip</code> object from a <em>csv</em> file. For more information on this approach, see <code>?define_hisafe_file</code>.</p>
</div>
<div id="build" class="section level3">
<h3>2. Build</h3>
<p>There is only one Build function: <code>build_hisafe()</code>. This function takes your <code>hip</code> object as an input and builds the actual folders/files on your computer that Hi-sAFe will read to run to the simulation(s). In addition to the <code>hip</code> object, you must supply a <code>path</code> where the simulation directory is to be created.</p>
<p>Optionally, you can also:</p>
<ul>
<li>If there are multiple simulations in the supplied <code>hip</code>, use <code>exp.name</code> to customize the name of the experiment folder, which is created first in the supplied <code>path</code> and contains each of the simulation folders.</li>
<li>Specify the Hi-sAFe output profiles using <code>profiles</code>. This is important! The default for this argument is “all”, which will include the very large “cells” and “voxels” outputs, slowing your Hi-sAFe simulations dramatically. To see which Hi-sAFe output profiles are supported and their export frequency, use <code>hisafe_profiles()</code>.</li>
<li>Specify the saveProjectOption in Hi-sAFe, which tells Hi-sAFe to save a (large) file at the end of the simulation to allow a subsequent simulation to start where this one left off.</li>
</ul>
<p>For more details on these options, see <code>?build_hisafe</code>.</p>
<p>It is good practice for the output of <code>build_hisafe()</code> to overwrite your <code>hip</code> object, as it will add the experiment/simulationpath to the object. This will enhance functionality during the RUN and READ steps.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hip_exp &lt;-<span class="st"> </span><span class="kw">build_hisafe</span>(<span class="dt">hip =</span> hip_exp, 
                        <span class="dt">path =</span> <span class="st">&quot;./simulations&quot;</span>,
                        <span class="dt">exp.name =</span> <span class="st">&quot;lat-orient_exp&quot;</span>, 
                        <span class="dt">profiles =</span> <span class="kw">c</span>(<span class="st">&quot;annualplot&quot;</span>, <span class="st">&quot;annualtree&quot;</span>, <span class="st">&quot;annualcrop&quot;</span>, <span class="st">&quot;monthCells&quot;</span>, <span class="st">&quot;trees&quot;</span>, <span class="st">&quot;plot&quot;</span>), 
                        <span class="dt">saveProjectOption =</span> <span class="ot">FALSE</span>)
hip_exp</code></pre></div>
</div>
<div id="run" class="section level3">
<h3>3. Run</h3>
<p>Once the Hi-sAFe folders/files are created on your comupter, you are ready to run Hi-sAFe! There are two functions for running Hi-sAFe simulations: <code>run_hisafe()</code> for running a single simulation, and <code>run_hisafe_exp()</code> for running a group of simulations. To run our previous experiment on <strong>latitude</strong> and <strong>treeLineOrientation</strong> we will use <code>run_hisafe_exp()</code> by providing:</p>
<ul>
<li>The <code>hip</code> object.</li>
<li>A <code>path</code> to the experiment folder. If <code>hip</code> updated using <code>build_hisafe()</code>, then there is no need to supply <code>path</code> as it is contained within the <code>hip</code> object.</li>
<li>A character string of which simulations within the experiment to run via <code>simu.names</code>. The default “all” will run all simulations in the experiment.</li>
<li>A logical <code>parallel</code> indicating whether or not to run multiple simulations in parallel on your computer. The default is <code>FALSE</code>, but it is highly encouraged to use parallel processing if your computer as the capacity! If <code>parallel</code> is <code>TRUE</code>, one fewer than the total number of available cores will be used. Alternatively, the number of cores to use can be specified directly via <code>num.cores</code>.</li>
<li>The path to the Capsis folder on your computer via <code>capsis.path</code>. This is where hisafer can find Capsis and the Hi-sAFe model.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">run_hisafe_exp</span>(<span class="dt">hip =</span> hip_exp,
               <span class="dt">simu.names =</span> <span class="st">&quot;all&quot;</span>,
               <span class="dt">parallel =</span> <span class="ot">TRUE</span>,
               <span class="dt">capsis.path =</span> <span class="st">&quot;/Applications/Capsis/&quot;</span>)</code></pre></div>
<p>Both <code>run_hisafe()</code> and <code>run_hisafe_exp()</code> can also be used without a <code>hip</code> object to run Hi-sAFe simulations that were not create using hisafer. To do this with <code>run_hisafe()</code>, for example, you must supply the <code>path</code> to the where the simulation folder is located and the name of the simulation via <code>simu.name</code>. Just make sure the folder/file structure is correct!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">run_hisafe</span>(<span class="dt">path =</span> <span class="st">&quot;./simulations&quot;</span>
           <span class="dt">simu.name  =</span> <span class="st">&quot;Sim_From_Kevin&quot;</span>,
           <span class="dt">capsis.path =</span> <span class="st">&quot;/Applications/Capsis/&quot;</span>)</code></pre></div>
</div>
<div id="read" class="section level3">
<h3>4. Read</h3>
<p>Hi-sAFe can generate quite a lot of output data. All of this data is created within a set of (large) text files, which can be difficult to navigate with out hisafer. The Read step of Hi-sAFe experimentation reads all of this data into R for easy manipulation and analysis. Analagous to the Run step, there are two functions for reading Hi-sAFe output data: <code>read_hisafe()</code> for reading in a single simulation, and <code>read_hisafe_exp()</code> for reading in a Hi-sAFe experiment (group of simluations). <code>read_hisafe()</code> is used analagously to <code>run_hisafe()</code>.</p>
<p>To read in our previous experiment on <strong>latitude</strong> and <strong>treeLineOrientation</strong> we will use <code>read_hisafe_exp()</code>. The only required input is a <code>hip</code> object that has been modified by <code>build_hisafe()</code> to include the experiment’s path. Alternatively, a <code>path</code> can by manually provided. You can also specify which Hi-sAFe output profiles to read in using <code>profiles</code>. While the default is to read all profiles, you may not want to read in any created “cells” or “voxels” data if you simply want to analyze annual tree growth data.</p>
<p>The resulting object created <code>read_hisafe_exp()</code> is a <code>hop</code> obeject (for “Hi-sAFe OutPut”) of class “hop” and “hop-group”. This is a list of 15 tibbles (data frames):</p>
<ul>
<li><code>annualtree</code></li>
<li><code>annualcrop</code></li>
<li><code>annualplot</code></li>
<li><code>trees</code></li>
<li><code>plot</code></li>
<li><code>climate</code></li>
<li><code>roots</code></li>
<li><code>monthCells</code></li>
<li><code>cells</code></li>
<li><code>voxels</code></li>
<li><code>variables</code> - variable descriptions and units from all profiles</li>
<li><code>inputs</code> - the hip object that generated the simulation</li>
<li><code>path</code> - the paths to the simulation folders</li>
<li><code>exp.plan</code> - the manipulated input variables in the experiment</li>
<li><code>exp.path</code> - the path to the experiment folder</li>
</ul>
<p>If any Hi-sAFe output profiles specified by <code>profiles</code> were not created when Hi-sAFe was run, a warning will notify you.</p>
<p>If any Hi-sAFe output profiles were either not created by Hi-sAFe (via the <code>profiles</code> argument of <code>build_hisafe_exp()</code>) or not selected for reading (via the <code>profiles</code> argument of <code>read_hisafe_exp()</code>), the the associated list components will be empty tibbles.</p>
<p>WARNING: Depending on the number of simulations, length of simulations, and which output profiles are specified, reading in Hi-sAFe data can take a few minutes!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hop_exp &lt;-<span class="st"> </span><span class="kw">read_hisafe_exp</span>(<span class="dt">hip =</span> hip_exp, <span class="dt">profiles =</span> <span class="st">&quot;all&quot;</span>)
hop_exp</code></pre></div>
<pre><code>## 
## reading:  simulation inputs (hip)</code></pre>
<pre><code>## Warning: The following requested profiles do not exist:
##       --Sim_1_annualplot.txt
##       --Sim_1_annualtree.txt
##       --Sim_1_annualcrop.txt
##       --Sim_1_roots.txt
##       --Sim_1_cells.txt
##       --Sim_1_voxels.txt</code></pre>
<pre><code>## 
## 
## Reading:  Sim_1 
## Profiles: plot, trees, climate, monthCells
## reading:  plot
## reading:  trees
## reading:  climate
## reading:  monthCells
## reading:  simulation inputs (hip)</code></pre>
<pre><code>## Warning: The following requested profiles do not exist:
##       --Sim_2_annualplot.txt
##       --Sim_2_annualtree.txt
##       --Sim_2_annualcrop.txt
##       --Sim_2_roots.txt
##       --Sim_2_cells.txt
##       --Sim_2_voxels.txt</code></pre>
<pre><code>## 
## 
## Reading:  Sim_2 
## Profiles: plot, trees, climate, monthCells
## reading:  plot
## reading:  trees
## reading:  climate
## reading:  monthCells
## reading:  simulation inputs (hip)</code></pre>
<pre><code>## Warning: The following requested profiles do not exist:
##       --Sim_3_annualplot.txt
##       --Sim_3_annualtree.txt
##       --Sim_3_annualcrop.txt
##       --Sim_3_roots.txt
##       --Sim_3_cells.txt
##       --Sim_3_voxels.txt</code></pre>
<pre><code>## 
## 
## Reading:  Sim_3 
## Profiles: plot, trees, climate, monthCells
## reading:  plot
## reading:  trees
## reading:  climate
## reading:  monthCells
## reading:  simulation inputs (hip)</code></pre>
<pre><code>## Warning: The following requested profiles do not exist:
##       --Sim_4_annualplot.txt
##       --Sim_4_annualtree.txt
##       --Sim_4_annualcrop.txt
##       --Sim_4_roots.txt
##       --Sim_4_cells.txt
##       --Sim_4_voxels.txt</code></pre>
<pre><code>## 
## 
## Reading:  Sim_4 
## Profiles: plot, trees, climate, monthCells
## reading:  plot
## reading:  trees
## reading:  climate
## reading:  monthCells</code></pre>
<pre><code>## $annualtree
## # A tibble: 0 x 0
## 
## $annualcrop
## # A tibble: 0 x 0
## 
## $annualplot
## # A tibble: 0 x 0
## 
## $trees
## # A tibble: 43,832 x 77
## # Groups:   SimulationName [4]
##    SimulationName latitude treeLineOrientation       Date   Day Month
##            &lt;fctr&gt;   &lt;fctr&gt;              &lt;fctr&gt;     &lt;date&gt; &lt;int&gt; &lt;int&gt;
##  1          Sim_1       30                   0 1995-08-28    28     8
##  2          Sim_1       30                   0 1995-08-29    29     8
##  3          Sim_1       30                   0 1995-08-30    30     8
##  4          Sim_1       30                   0 1995-08-31    31     8
##  5          Sim_1       30                   0 1995-09-01     1     9
##  6          Sim_1       30                   0 1995-09-02     2     9
##  7          Sim_1       30                   0 1995-09-03     3     9
##  8          Sim_1       30                   0 1995-09-04     4     9
##  9          Sim_1       30                   0 1995-09-05     5     9
## 10          Sim_1       30                   0 1995-09-06     6     9
## # ... with 43,822 more rows, and 71 more variables: Year &lt;int&gt;,
## #   JulianDay &lt;int&gt;, stepNum &lt;int&gt;, id &lt;int&gt;, carbonAboveGroundEff &lt;dbl&gt;,
## #   aboveGroundCFraction &lt;dbl&gt;, carbonBelowGroundEff &lt;dbl&gt;,
## #   captureFactorForDiffuseNir &lt;dbl&gt;, captureFactorForDiffusePar &lt;dbl&gt;,
## #   captureFactorForDirectNir &lt;dbl&gt;, captureFactorForDirectPar &lt;dbl&gt;,
## #   carbonBranches &lt;dbl&gt;, carbonCoarseRootSen &lt;dbl&gt;,
## #   carbonCoarseRoots &lt;dbl&gt;, carbonFineRootsIncrement &lt;dbl&gt;,
## #   carbonFineRootSen &lt;dbl&gt;, carbonFineRoots &lt;dbl&gt;, carbonFoliage &lt;dbl&gt;,
## #   carbonLabile &lt;dbl&gt;, carbonStem &lt;dbl&gt;, carbonAllocToGrowth &lt;dbl&gt;,
## #   carbonIncrement &lt;dbl&gt;, carbonLeavesSenescence &lt;dbl&gt;,
## #   crownBaseHeight &lt;dbl&gt;, crownRadiusInterRow &lt;dbl&gt;,
## #   crownRadiusTreeLine &lt;dbl&gt;, crownVolume &lt;dbl&gt;,
## #   diffuseParIntercepted &lt;dbl&gt;, directParIntercepted &lt;dbl&gt;,
## #   globalRadIntercepted &lt;dbl&gt;, lightCompetitionIndex &lt;dbl&gt;,
## #   infraRedIntercepted &lt;dbl&gt;, leafArea &lt;dbl&gt;, lfrRatio &lt;dbl&gt;,
## #   longitudinalPotentialDrop &lt;dbl&gt;, nitrogenBranchesConc &lt;dbl&gt;,
## #   nitrogenCoarseRootSen &lt;dbl&gt;, nitrogenCoarseRootsConc &lt;dbl&gt;,
## #   nitrogenDemand &lt;dbl&gt;, nitrogenFineRootSen &lt;dbl&gt;,
## #   nitrogenFineRootsConc &lt;dbl&gt;, nitrogenFoliageConc &lt;dbl&gt;,
## #   nitrogenLabile &lt;dbl&gt;, nitrogenSatisfaction &lt;dbl&gt;,
## #   nitrogenSaturation &lt;dbl&gt;, nitrogenSinkStrength &lt;dbl&gt;,
## #   nitrogenStemConc &lt;dbl&gt;, nitrogenStress &lt;dbl&gt;, nitrogenUptake &lt;dbl&gt;,
## #   nitrogenLeavesSenescence &lt;dbl&gt;, phenologicalStage &lt;int&gt;,
## #   radialPotentialDrop &lt;dbl&gt;, rootingDepth &lt;dbl&gt;, stemVolume &lt;dbl&gt;,
## #   stemflow &lt;dbl&gt;, targetLfrRatio &lt;dbl&gt;, totalRootLength &lt;dbl&gt;,
## #   totalMark &lt;dbl&gt;, totalOptiN &lt;dbl&gt;, dbh &lt;dbl&gt;, height &lt;dbl&gt;,
## #   actualWaterPotential &lt;dbl&gt;, crownRadiusVertical &lt;dbl&gt;,
## #   waterDemand &lt;dbl&gt;, waterDemandReduced &lt;dbl&gt;, evaporationaq &lt;dbl&gt;,
## #   evaporatedRain &lt;dbl&gt;, interceptedRain &lt;dbl&gt;, storedRain &lt;dbl&gt;,
## #   waterStress &lt;dbl&gt;, waterUptake &lt;dbl&gt;
## 
## $plot
## # A tibble: 43,832 x 132
## # Groups:   SimulationName [4]
##    SimulationName latitude treeLineOrientation       Date   Day Month
##            &lt;fctr&gt;   &lt;fctr&gt;              &lt;fctr&gt;     &lt;date&gt; &lt;int&gt; &lt;int&gt;
##  1          Sim_1       30                   0 1995-08-28    28     8
##  2          Sim_1       30                   0 1995-08-29    29     8
##  3          Sim_1       30                   0 1995-08-30    30     8
##  4          Sim_1       30                   0 1995-08-31    31     8
##  5          Sim_1       30                   0 1995-09-01     1     9
##  6          Sim_1       30                   0 1995-09-02     2     9
##  7          Sim_1       30                   0 1995-09-03     3     9
##  8          Sim_1       30                   0 1995-09-04     4     9
##  9          Sim_1       30                   0 1995-09-05     5     9
## 10          Sim_1       30                   0 1995-09-06     6     9
## # ... with 43,822 more rows, and 126 more variables: Year &lt;int&gt;,
## #   JulianDay &lt;int&gt;, stepNum &lt;int&gt;, activeNitHumusStock &lt;dbl&gt;,
## #   qLeafLitter &lt;dbl&gt;, biomassRestitution &lt;dbl&gt;, carbonBranches &lt;dbl&gt;,
## #   carbonHumification &lt;dbl&gt;, carbonImmobilisation &lt;dbl&gt;,
## #   carbonResidus &lt;dbl&gt;, cMicroorgVariation &lt;dbl&gt;, cngrain &lt;dbl&gt;,
## #   cnplante &lt;dbl&gt;, coarserootSenCn &lt;dbl&gt;, cropBiomass &lt;dbl&gt;,
## #   cropGrainNumber &lt;dbl&gt;, cropGrainWeight &lt;dbl&gt;, cropLai &lt;dbl&gt;,
## #   cropNitrogenBiomassStress &lt;dbl&gt;, cropNitrogenDemand &lt;dbl&gt;,
## #   cropNitrogenLaiStress &lt;dbl&gt;, cropNitrogenSenescenceStress &lt;dbl&gt;,
## #   cropPhenologicStage &lt;dbl&gt;, cropPlantDensity &lt;dbl&gt;, cropResiduCn &lt;dbl&gt;,
## #   cropRootDepth &lt;dbl&gt;, cropSenescenceWaterStress &lt;dbl&gt;, cropSla &lt;dbl&gt;,
## #   cropStomatalWaterStress &lt;dbl&gt;, cropTemperature &lt;dbl&gt;,
## #   cropTotalRootLength &lt;dbl&gt;, cropTurgescenceWaterStress &lt;dbl&gt;,
## #   cropWaterDemand &lt;dbl&gt;, cropWaterDemandReduced &lt;dbl&gt;,
## #   cropWaterPotential &lt;dbl&gt;, cropWaterStress &lt;dbl&gt;, cropYield &lt;dbl&gt;,
## #   drainage &lt;dbl&gt;, finerootSenCn &lt;dbl&gt;, inactiveNitHumusStock &lt;dbl&gt;,
## #   interceptedWater &lt;dbl&gt;, leafLitterCn &lt;dbl&gt;, maxCropBiomass &lt;dbl&gt;,
## #   maxCropLai &lt;dbl&gt;, maxCropYield &lt;dbl&gt;, maximalWaterStock &lt;dbl&gt;,
## #   microorgBiomass &lt;dbl&gt;, minCropBiomass &lt;dbl&gt;, minCropLai &lt;dbl&gt;,
## #   minCropYield &lt;dbl&gt;, mineralNitrogenStock &lt;dbl&gt;, nminTotal &lt;dbl&gt;,
## #   nminCoarseroot &lt;dbl&gt;, nminResCult &lt;dbl&gt;, nminFineroot &lt;dbl&gt;,
## #   nminLeaf &lt;dbl&gt;, nCoarseRootSenInProfHum &lt;dbl&gt;,
## #   nFineRootSenInProfHum &lt;dbl&gt;, nitrateStock &lt;dbl&gt;, nLeafLitter &lt;dbl&gt;,
## #   nitrogenAmendement &lt;dbl&gt;, nitrogenAvalaibleForCrops &lt;dbl&gt;,
## #   nitrogenBranches &lt;dbl&gt;, nitrogenDenitrification &lt;dbl&gt;,
## #   nitrogenExportation &lt;dbl&gt;, nitrogenExtractedByCrops &lt;dbl&gt;,
## #   nitrogenExtractedByTrees &lt;dbl&gt;,
## #   nitrogenExtractedInSaturationByCrops &lt;dbl&gt;,
## #   nitrogenExtractedInSaturationByTrees &lt;dbl&gt;,
## #   nitrogenFertilisation &lt;dbl&gt;, nitrogenFixation &lt;dbl&gt;,
## #   nitrogenHumification &lt;dbl&gt;, nitrogenHumusMineralisation &lt;dbl&gt;,
## #   nitrogenImmobilisation &lt;dbl&gt;, nitrogenIrrigation &lt;dbl&gt;,
## #   nitrogenLixiviationSTICS &lt;dbl&gt;, nitrogenLixiviationTOTAL &lt;dbl&gt;,
## #   nitrogenOrganisation &lt;dbl&gt;, nitrogenRain &lt;dbl&gt;,
## #   nitrogenResiduMineralisation &lt;dbl&gt;, nitrogenResidus &lt;dbl&gt;,
## #   nitrogenRestitution &lt;dbl&gt;, nitrogenVolatilisation &lt;dbl&gt;,
## #   nMicroorgVariation &lt;dbl&gt;, nminDeepRoots &lt;dbl&gt;, nRootSenStock &lt;dbl&gt;,
## #   parIncident &lt;dbl&gt;, parInterceptedByCrops &lt;dbl&gt;,
## #   parInterceptedByCropsCompetFree &lt;dbl&gt;, parInterceptedByTrees &lt;dbl&gt;,
## #   parInterceptedByTreesCompetFree &lt;dbl&gt;, qCoarseRootSenInProfHum &lt;dbl&gt;,
## #   qFineRootSenInProfHum &lt;dbl&gt;, qngrain &lt;dbl&gt;, qnplante &lt;dbl&gt;,
## #   rainTransmitted &lt;dbl&gt;, runOff &lt;dbl&gt;, surfaceRunOff &lt;dbl&gt;, tmax &lt;dbl&gt;,
## #   tmin &lt;dbl&gt;, ...
## 
## $climate
## # A tibble: 43,832 x 29
## # Groups:   SimulationName [4]
##    SimulationName latitude treeLineOrientation       Date   Day Month
##            &lt;fctr&gt;   &lt;fctr&gt;              &lt;fctr&gt;     &lt;date&gt; &lt;int&gt; &lt;int&gt;
##  1          Sim_1       30                   0 1995-08-28    28     8
##  2          Sim_1       30                   0 1995-08-29    29     8
##  3          Sim_1       30                   0 1995-08-30    30     8
##  4          Sim_1       30                   0 1995-08-31    31     8
##  5          Sim_1       30                   0 1995-09-01     1     9
##  6          Sim_1       30                   0 1995-09-02     2     9
##  7          Sim_1       30                   0 1995-09-03     3     9
##  8          Sim_1       30                   0 1995-09-04     4     9
##  9          Sim_1       30                   0 1995-09-05     5     9
## 10          Sim_1       30                   0 1995-09-06     6     9
## # ... with 43,822 more rows, and 23 more variables: Year &lt;int&gt;,
## #   JulianDay &lt;int&gt;, stepNum &lt;int&gt;, airVapourPressure &lt;dbl&gt;,
## #   airVapourPressureSat &lt;dbl&gt;, dayLength &lt;dbl&gt;, delta &lt;dbl&gt;,
## #   diffusePar &lt;dbl&gt;, directPar &lt;dbl&gt;, etpPenman &lt;dbl&gt;,
## #   extraTerrestrialRadiation &lt;dbl&gt;, globalPar &lt;dbl&gt;,
## #   globalRadiation &lt;dbl&gt;, infraRedRadiation &lt;dbl&gt;,
## #   maxRelativeHumidity &lt;dbl&gt;, maxTemperature &lt;dbl&gt;,
## #   minRelativeHumidity &lt;dbl&gt;, minTemperature &lt;dbl&gt;, rain &lt;dbl&gt;,
## #   sunDeclination &lt;dbl&gt;, airVpd &lt;dbl&gt;, waterTableDepth &lt;dbl&gt;,
## #   windSpeed &lt;dbl&gt;
## 
## $roots
## # A tibble: 0 x 0
## 
## $monthCells
## # A tibble: 168,480 x 27
## # Groups:   SimulationName [4]
##    SimulationName latitude treeLineOrientation       Date   Day Month
##            &lt;fctr&gt;   &lt;fctr&gt;              &lt;fctr&gt;     &lt;date&gt; &lt;int&gt; &lt;int&gt;
##  1          Sim_1       30                   0 1995-09-01     1     9
##  2          Sim_1       30                   0 1995-09-01     1     9
##  3          Sim_1       30                   0 1995-09-01     1     9
##  4          Sim_1       30                   0 1995-09-01     1     9
##  5          Sim_1       30                   0 1995-09-01     1     9
##  6          Sim_1       30                   0 1995-09-01     1     9
##  7          Sim_1       30                   0 1995-09-01     1     9
##  8          Sim_1       30                   0 1995-09-01     1     9
##  9          Sim_1       30                   0 1995-09-01     1     9
## 10          Sim_1       30                   0 1995-09-01     1     9
## # ... with 168,470 more rows, and 21 more variables: Year &lt;int&gt;,
## #   JulianDay &lt;int&gt;, stepNum &lt;int&gt;, id &lt;int&gt;, x &lt;dbl&gt;, y &lt;dbl&gt;,
## #   cropSpeciesName &lt;chr&gt;, monthBiomass &lt;dbl&gt;, monthYield &lt;dbl&gt;,
## #   monthDirectPar &lt;dbl&gt;, monthDiffusePar &lt;dbl&gt;,
## #   monthDiffuseParIncident &lt;dbl&gt;, monthDiffuseParIntercepted &lt;dbl&gt;,
## #   monthDirectParIncident &lt;dbl&gt;, monthDirectParIntercepted &lt;dbl&gt;,
## #   monthEai &lt;dbl&gt;, monthLai &lt;dbl&gt;, monthRelativeDiffuseParIncident &lt;dbl&gt;,
## #   monthRelativeDirectParIncident &lt;dbl&gt;,
## #   monthRelativeTotalParIncident &lt;dbl&gt;, monthVisibleSky &lt;dbl&gt;
## 
## $cells
## # A tibble: 0 x 0
## 
## $voxels
## # A tibble: 0 x 0
## 
## $variables
## # A tibble: 225 x 6
##     Subject SubjectId               VariableName Units
##       &lt;chr&gt;     &lt;chr&gt;                      &lt;chr&gt; &lt;chr&gt;
##  1 SafeTree     Trees       carbonAboveGroundEff     -
##  2 SafeTree     Trees       aboveGroundCFraction     -
##  3 SafeTree     Trees       carbonBelowGroundEff     -
##  4 SafeTree     Trees captureFactorForDiffuseNir     m
##  5 SafeTree     Trees captureFactorForDiffusePar     m
##  6 SafeTree     Trees  captureFactorForDirectNir     m
##  7 SafeTree     Trees  captureFactorForDirectPar     m
##  8 SafeTree     Trees             carbonBranches    kg
##  9 SafeTree     Trees        carbonCoarseRootSen    kg
## 10 SafeTree     Trees          carbonCoarseRoots    kg
## # ... with 215 more rows, and 2 more variables: Description &lt;chr&gt;,
## #   VariableClass &lt;chr&gt;
## 
## $inputs
## # A tibble: 4 x 27
##   SimulationName latitude treeLineOrientation cellWidth spacingBetweenRows
##            &lt;chr&gt;    &lt;int&gt;               &lt;int&gt;     &lt;int&gt;              &lt;int&gt;
## 1          Sim_1       30                   0         1                 13
## 2          Sim_2       60                   0         1                 13
## 3          Sim_3       30                  90         1                 13
## 4          Sim_4       60                  90         1                 13
## # ... with 22 more variables: spacingWithinRows &lt;int&gt;,
## #   slopeIntensity &lt;int&gt;, slopeAspect &lt;int&gt;, windMeanForce &lt;int&gt;,
## #   treeSpecies &lt;chr&gt;, treeHeight &lt;int&gt;, rootShape &lt;int&gt;,
## #   nbSimulations &lt;int&gt;, simulationYearStart &lt;int&gt;,
## #   simulationDayStart &lt;int&gt;, mainCropSpecies &lt;chr&gt;,
## #   interCropSpecies &lt;chr&gt;, treeCropDistance &lt;dbl&gt;,
## #   weededAreaRadius &lt;int&gt;, weatherFile &lt;chr&gt;, toricSymmetry &lt;chr&gt;,
## #   treePruningFreq &lt;int&gt;, treePruningProp &lt;dbl&gt;,
## #   treePruningMaxHeight &lt;int&gt;, treeRootPruningFreq &lt;int&gt;,
## #   treeRootPruningDistance &lt;dbl&gt;, treeRootPruningDepth &lt;int&gt;
## 
## $path
## # A tibble: 4 x 1
##                 path
##                &lt;chr&gt;
## 1 ./experiment/Sim_1
## 2 ./experiment/Sim_2
## 3 ./experiment/Sim_3
## 4 ./experiment/Sim_4
## 
## $exp.plan
## # A tibble: 4 x 3
##   SimulationName latitude treeLineOrientation
##           &lt;fctr&gt;   &lt;fctr&gt;              &lt;fctr&gt;
## 1          Sim_1       30                   0
## 2          Sim_2       60                   0
## 3          Sim_3       30                  90
## 4          Sim_4       60                  90
## 
## $exp.path
## [1] &quot;./experiment&quot;
## 
## attr(,&quot;class&quot;)
## [1] &quot;hop-group&quot; &quot;hop&quot;       &quot;list&quot;</code></pre>
</div>
<div id="diagnostics" class="section level3">
<h3>5. Diagnostics</h3>
<p>Prior to performing any analyses using your <code>hop</code> data, it is highly recommended to check some basic diagnostics on your simluations to ensure that the simulations ran as expected. To do so, hisafer provides some basic diagnostic functions that allow you to compare you various simulations side by side:</p>
<ul>
<li><code>diag_hisafe_ts()</code> - plots a timeseries plot for each variable in the “annual” and “daily” data of a <code>hop</code> object.</li>
<li><code>diag_hisafe_monthcells()</code> - plots a full range of tile plots for each variable in the “monthCells” data of a <code>hop</code> object.</li>
</ul>
<p>All outputs from these Diagnostics functions will be saved to a “diagnostics” folder within the simulation folder of the <code>hop</code>.</p>
</div>
<div id="analysis" class="section level3">
<h3>6. Analysis</h3>
<p>There are many different types of analyses that can be performed with Hi-sAFe output data. Conseuqnetly, there are no strict “analysis” functions in hisafer. However, there are some plotting functions that can aid in your analyses:</p>
<ul>
<li><code>plot_hisafe_ts()</code> - plots “annual” or “daily” timeseries data</li>
<li><code>plot_hisafe_monthcells()</code> - plots “monthCells” data</li>
<li><code>plot_hisafe_cells()</code> - plots “cells” data</li>
<li><code>plot_hisafe_voxels()</code> - plots “voxels” data</li>
</ul>
<p>Most often, analyses will be done on an individual profile/component of the <code>hop</code> object. These can easily be accessed using the <code>$</code> operator. For example, to access the “plot” data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hop_exp$plot</code></pre></div>
<p>Sometimes, during the Analysis phase, you will realize that the values of <strong>SimulationName</strong> that you provided during the Define phase are not quite what you wanted. To rename each <strong>SimulationName</strong> in your <code>hop</code> object, you can use <code>simu_rename()</code>.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
